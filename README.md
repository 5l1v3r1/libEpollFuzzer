# libEpollFuzzer - fuzzing for async apps
A server running on Linux is a user space process, communicating with the kernel via syscalls such as listen, socket, accept, close, shutdown, send, recv, epoll_wait, epoll_ctl, etc.

The user space "pulls" events from the kernel in batches, via calls to epoll_wait. Instead of pulling from an actual kernel, `libEpollFuzzer` lets you pull from fuzzing data generated by LLVM fuzzers (libFuzzer).

libEpollFuzzer implements the Linux epoll syscalls atop libFuzzer. This allows you to link against these mocked syscalls, and rapidly stress test your entire server software very thoroughly while sanitizers like AddressSanitizer monitors your code for bugs.

Tests can be made entirely deterministic, or iteratively loop over an infinite amount of data.

## In practise

test.cpp:
```c++
#include "epoll_fuzzer.h"

void setup(void *user) {
  // set up userdata
}

void test(void *user) {
  // run your server here, listen and start the event-loop
}

void teardown(void *user) {
  // shutdown whatever you established in setup or test
}

// register this deterministic test case
epoll_fuzzer_deterministic_case(setup, test, teardown);
```

Compile it as an LLVM fuzzing case.
